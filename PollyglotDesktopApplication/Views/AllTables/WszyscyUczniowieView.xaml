<views:WszystkieViewBase x:Class="PollyglotDesktopApp.Views.AllTables.WszyscyUczniowieView"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:views="clr-namespace:PollyglotDesktopApp.Views"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        mc:Ignorable="d"
        d:DesignHeight="520" d:DesignWidth="900">

    <Grid Margin="0">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <Border Grid.Row="0"
                BorderBrush="Gray"
                BorderThickness="1"
                Background="White"
                Padding="12"
                Margin="0,0,0,10">
            <StackPanel>
                <TextBlock Text="Karta ucznia"
                           FontSize="16"
                           FontWeight="SemiBold"
                           Margin="0,0,0,8" />

                <Grid Margin="0,0,0,12">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>

                    <TextBlock Text="Imię:" Grid.Column="0" VerticalAlignment="Center" FontWeight="SemiBold"/>
                    <TextBlock Text="{Binding SelectedUczen.Imie}" Grid.Column="1" VerticalAlignment="Center"/>
                    <TextBlock Text="Nazwisko:" Grid.Column="2" VerticalAlignment="Center" FontWeight="SemiBold" Margin="16,0,0,0"/>
                    <TextBlock Text="{Binding SelectedUczen.Nazwisko}" Grid.Column="3" VerticalAlignment="Center"/>

                    <TextBlock Text="Email:" Grid.Column="0" Grid.Row="1" VerticalAlignment="Center" FontWeight="SemiBold" Margin="0,6,0,0"/>
                    <TextBlock Text="{Binding SelectedUczen.Email}" Grid.Column="1" Grid.Row="1" VerticalAlignment="Center" Margin="0,6,0,0"/>
                    <TextBlock Text="Telefon:" Grid.Column="2" Grid.Row="1" VerticalAlignment="Center" FontWeight="SemiBold" Margin="16,6,0,0"/>
                    <TextBlock Text="{Binding SelectedUczen.Telefon}" Grid.Column="3" Grid.Row="1" VerticalAlignment="Center" Margin="0,6,0,0"/>

                    <TextBlock Text="Status:" Grid.Column="0" Grid.Row="2" VerticalAlignment="Center" FontWeight="SemiBold" Margin="0,6,0,0"/>
                    <TextBlock Text="{Binding SelectedUczen.Status}" Grid.Column="1" Grid.Row="2" VerticalAlignment="Center" Margin="0,6,0,0"/>
                    <TextBlock Text="Data zapisu:" Grid.Column="2" Grid.Row="2" VerticalAlignment="Center" FontWeight="SemiBold" Margin="16,6,0,0"/>
                    <TextBlock Text="{Binding SelectedUczen.DataZapisu, StringFormat={}{0:dd.MM.yyyy}}" Grid.Column="3" Grid.Row="2" VerticalAlignment="Center" Margin="0,6,0,0"/>
                </Grid>

                <Expander Header="Kursy ucznia" IsExpanded="True" Margin="0,12,0,0">
                    <DataGrid ItemsSource="{Binding SelectedUczenKursy}"
                              AutoGenerateColumns="False"
                              HeadersVisibility="Column"
                              CanUserAddRows="False"
                              IsReadOnly="True"
                              Height="160">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="Kurs" Binding="{Binding Kurs}" />
                            <DataGridTextColumn Header="Język" Binding="{Binding Jezyk}" />
                            <DataGridTextColumn Header="Rodzaj" Binding="{Binding RodzajKursu}" />
                            <DataGridTextColumn Header="Lektor" Binding="{Binding Lektor}" />
                            <DataGridTextColumn Header="Status" Binding="{Binding Status}" />
                        </DataGrid.Columns>
                    </DataGrid>
                </Expander>

                <Expander Header="Płatności (ostatnie 5)" IsExpanded="False" Margin="0,6,0,0">
                    <DataGrid ItemsSource="{Binding SelectedPlatnosci}"
                              AutoGenerateColumns="False"
                              HeadersVisibility="Column"
                              CanUserAddRows="False"
                              IsReadOnly="True"
                              Height="150">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="Okres" Binding="{Binding Okres}" />
                            <DataGridTextColumn Header="Kwota" Binding="{Binding Kwota}" />
                            <DataGridTextColumn Header="Data" Binding="{Binding DataPlatnosciDisplay}" />
                            <DataGridTextColumn Header="Status" Binding="{Binding Status}" />
                        </DataGrid.Columns>
                    </DataGrid>
                </Expander>

                <Expander Header="Frekwencja (ostatnie 5)" IsExpanded="False" Margin="0,6,0,0">
                    <DataGrid ItemsSource="{Binding SelectedObecnosci}"
                              AutoGenerateColumns="False"
                              HeadersVisibility="Column"
                              CanUserAddRows="False"
                              IsReadOnly="True"
                              Height="150">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="Zajęcia" Binding="{Binding Zajecia}" />
                            <DataGridTextColumn Header="Status" Binding="{Binding Status}" />
                            <DataGridTextColumn Header="Uwagi" Binding="{Binding Uwagi}" />
                        </DataGrid.Columns>
                    </DataGrid>
                </Expander>
            </StackPanel>
        </Border>

        <DataGrid Grid.Row="1"
                  ItemsSource="{Binding List}"
                  SelectedItem="{Binding SelectedUczen, Mode=TwoWay}"
                  AutoGenerateColumns="True"
                  AutoGeneratingColumn="DataGrid_AutoGeneratingColumn"
                  IsReadOnly="True"
                  MouseDoubleClick="DataGrid_MouseDoubleClick"/>
    </Grid>
</views:WszystkieViewBase>
